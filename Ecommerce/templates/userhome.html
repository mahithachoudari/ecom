<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>E-Commerce Home</title>
  <style>
:root {
  --primary: #368f97;
  --secondary: #fdd835;
  --light: #fff;
  --dark: #46c039;
  --gray: #f5f5f5;
}

body {
  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  margin: 0;
  padding: 0;
  background-color: var(--gray);
  color: var(--dark);
}

header {
  background-color: var(--primary);
  color: var(--light);
  text-align: center;
  padding: 20px 0;
  
}

nav {
  background-color: var(--dark);
  overflow: hidden;
}

nav a {
  float: left;
  color: var(--light);
  padding: 14px 20px;
  text-decoration: none;
}

.header-content {
  display: flex;
  justify-content: space-between;
  align-items: center;
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 20px;
}

.basket-btn {
  background: var(--light);
  border: none;
  color: var(--primary);
  padding: 10px;
  border-radius: 5px;
  cursor: pointer;
}

.basket-btn:hover {
  background: var(--secondary);
  color: var(--dark);
}
nav a:hover {
  background-color: var(--secondary);
    color: var(--dark);
}

.container {
  max-width: 1200px;
  margin: auto;
  padding: 20px;
  background-color: var(--light);
}

section h2 {
  color: var(--primary);
  margin-bottom: 10px;
  border-bottom: 2px solid var(--primary);
  padding-bottom: 5px;
}

.card-grid {
  display: flex;
  flex-wrap: wrap;
  gap: 20px;
}

.card {
  background: var(--light);
  border: 1px solid #ddd;
  border-radius: 8px;
  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);
  width: calc(33.333% - 20px);
  overflow: hidden;
  transition: transform 0.2s ease;
}

.card:hover {
  transform: translateY(-5px);
}

.card img {
  width: 100%;
  height: 200px;
  object-fit: cover;
}

.card-body {
  padding: 15px;
}

.card-body h3 {
  margin: 0 0 10px;
  color: var(--primary);
}

.card-body p {
  font-size: 14px;
  margin: 0 0 10px;
}

.card-body button {
  background-color: var(--primary);
  color: white;
  border: none;
  padding: 10px 15px;
  border-radius: 5px;
  cursor: pointer;
}

.card-body button:hover {
  background-color: #1565c0;
}

footer {
  text-align: center;
  padding: 15px;
  background-color: var(--primary);
  color: var(--light);
  margin-top: 30px;
}
</style>
</head>
<body>
  <script>
    var data = "{{msg}}";
    if (data == "product added"){
      alert(" Item added sucessfully to cart..üèÉ‚Äç‚ôÇÔ∏è‚Äç‚û°Ô∏è..")
    }
    else if (data == "product updated"){
      alert("Item Updated sucessfullyyy..ü´•")
    }
    else if (data == "noproductsincart"){
      alert("No products in cart /n please add items into cart")
    }

  </script>
<header>
  <div class="header-content">
    <h1>My E-Commerce Site</h1>
    <button class="basket-btn">
      <a href="/shopping_cart/{{username}}"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" class="bi bi-basket2-fill" viewBox="0 0 16 16">
        <path d="M5.929 1.757a.5.5 0 1 0-.858-.514L2.217 6H.5a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h.623l1.844 6.456A.75.75 0 0 0 3.69 15h8.622a.75.75 0 0 0 .722-.544L14.877 8h.623a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5h-1.717L10.93 1.243a.5.5 0 1 0-.858.514L12.617 6H3.383zM4 10a1 1 0 0 1 2 0v2a1 1 0 1 1-2 0zm3 0a1 1 0 0 1 2 0v2a1 1 0 1 1-2 0zm4-1a1 1 0 0 1 1 1v2a1 1 0 1 1-2 0v-2a1 1 0 0 1 1-1"/>
      </svg></a>
    </button>
  </div> 
</header>
<nav>
    <h1><a href="/home">Home</a></h1>
    <h1><a href="/shopping_cart/{{username}}">My Cart</a></h1>
    <h1><a href="/orders">Orders</a></h1>
    <h1><a href="/home">Logout</a></h1>
  </nav>

<div class="container">
    <section id="products">
      <h2>Our Products</h2>
      <div class="card-grid">
        <div class="card">
          <img src="{{url_for('static',filename='/images/phone1.png')}}" alt="Product 1">
          <div class="card-body">
            <h3>Mobile</h3>
            <p>High-quality item for daily use.</p>
            <p>1299/-</p>
            <form action="/addtocart1" method="POST">
                <input type="hidden" name="username" value="{{username}}">
                <input type="hidden" name="productid" value="1000">
                <input type="hidden" name="productname" value="Mobile">
                <input type="hidden" name="productprice" value="1299">
                <button>Add to Cart</button><br><br>
            </form>
            <button onclick="pay('{{username}}', 1000,'Mobile', 1299)" class="btn buy">Buy Now</button>
          </div>
        </div>

        <div class="card">
          <img src="{{url_for('static',filename='/images/yellow1.png')}}" alt="Product 2">
          <div class="card-body">
            <h3>Laptop</h3>
            <p>Stylish and affordable product.</p>
            <p>1199/-</p>
            <form action="/addtocart1" method="POST">
                <input type="hidden" name="username" value="{{username}}">
                <input type="hidden" name="productid" value="1001">
                <input type="hidden" name="productname" value="Laptop">
                <input type="hidden" name="productprice" value="1199">
                <button>Add to Cart</button><br><br>
            </form>
            <button onclick="pay('{{username}}', 1001,'Laptop', 1199)" class="btn buy">Buy Now</button>
          </div>
        </div>

        <div class="card">
          <img src="{{url_for('static',filename='/images/watch.png')}}" alt="Product 3">
          <div class="card-body">
            <h3>Smart Watch</h3> 
            <p>Perfect gift for any occasion.</p>
            <p>1099/-</p>
            <form action="/addtocart1" method="POST">
                <input type="hidden" name="username" value="{{username}}">
                <input type="hidden" name="productid" value="1002">
                <input type="hidden" name="productname" value="Smart Watch">
                <input type="hidden" name="productprice" value="1099">
                <button>Add to Cart</button><br><br>
            </form>
            <button onclick="pay('{{username}}', 1002,'Smart Watch', 1099)" class="btn buy">Buy Now</button>
          </div>
        </div>

      <div class="card">
        <img src="{{url_for('static',filename='/images/ipad.png')}}" alt="Product 2">
        <div class="card-body">
          <h3>ipad</h3>
          <p>Stylish and affordable product.</p>
          <p>1,33,999/-</p>
          <form action="/addtocart1" method="POST">
                <input type="hidden" name="username" value="{{username}}">
                <input type="hidden" name="productid" value="1003">
                <input type="hidden" name="productname" value="ipad">
                <input type="hidden" name="productprice" value="133999">
                <button>Add to Cart</button><br><br>
            </form>
          <button onclick="pay('{{username}}', 1003,'ipad', 133999)" class="btn buy">Buy Now</button>
        </div>
      </div>

      <div class="card">
        <img src="{{url_for('static',filename='/images/ipad1.png')}}" alt="Product 2">
        <div class="card-body">
          <h3>ipad</h3>
          <p>Stylish and affordable product.</p>
          <p>1,44,999/-</p>
          <form action="/addtocart1" method="POST">
                <input type="hidden" name="username" value="{{username}}">
                <input type="hidden" name="productid" value="1004">
                <input type="hidden" name="productname" value="ipad">
                <input type="hidden" name="productprice" value="144999">
                <button>Add to Cart</button><br><br>
            </form>
          <button onclick="pay('{{username}}', 1004,'ipad', 144999)" class="btn buy">Buy Now</button>
        </div>
      </div>

      <div class="card">
        <img src="{{url_for('static',filename='/images/hp.png')}}" alt="Product 3">
        <div class="card-body">
          <h3>HP Laptop</h3> 
          <p>Perfect gift for any occasion.</p>
          <p>60,199/-</p>
          <form action="/addtocart1" method="POST">
                <input type="hidden" name="username" value="{{username}}">
                <input type="hidden" name="productid" value="1005">
                <input type="hidden" name="productname" value="HP Laptop">
                <input type="hidden" name="productprice" value="60199">
                <button>Add to Cart</button><br><br>
            </form>
          <button onclick="pay('{{username}}', 1005,'HP Laptop', 60199)" class="btn buy">Buy Now</button>
        </div>
      </div>

      <div class="card">
        <img src="{{url_for('static',filename='/images/yellow.png')}}" alt="Product 3">
        <div class="card-body">
          <h3>Laptop</h3> 
          <p>Perfect gift for any occasion.</p>
          <p>70,000/-</p>
          <form action="/addtocart1" method="POST">
                <input type="hidden" name="username" value="{{username}}">
                <input type="hidden" name="productid" value="1006">
                <input type="hidden" name="productname" value="Laptop">
                <input type="hidden" name="productprice" value="70000">
                <button>Add to Cart</button><br><br>
            </form>
          <button onclick="pay('{{username}}', 1006,'Laptop', 70000)" class="btn buy">Buy Now</button>
        </div>
      </div>

      <div class="card">
        <img src="{{url_for('static',filename='/images/laptop1.png')}}" alt="Product 3">
        <div class="card-body">
          <h3>Laptop</h3> 
          <p>Perfect gift for any occasion.</p>
          <p>59,999/-</p>
          <form action="/addtocart1" method="POST">
                <input type="hidden" name="username" value="{{username}}">
                <input type="hidden" name="productid" value="1007">
                <input type="hidden" name="productname" value="Laptop">
                <input type="hidden" name="productprice" value="59999">
                <button>Add to Cart</button><br><br>
            </form>
          <button onclick="pay('{{username}}', 1007,'Laptop', 59999)" class="btn buy">Buy Now</button>
        </div>
      </div>

      <div class="card">
        <img src="{{url_for('static',filename='/images/yellow1.png')}}" alt="Product 3">
        <div class="card-body">
          <h3>Laptop</h3> 
          <p>Perfect gift for any occasion.</p>
          <p>40,000/-</p>
          <form action="/addtocart1" method="POST">
                <input type="hidden" name="username" value="{{username}}">
                <input type="hidden" name="productid" value="1008">
                <input type="hidden" name="productname" value="Laptop">
                <input type="hidden" name="productprice" value="40000">
                <button>Add to Cart</button><br><br>
            </form>
          <button onclick="pay('{{username}}', 1008,'Laptop', 40000)" class="btn buy">Buy Now</button>
        </div>
      </div>

      <div class="card">
        <img src="{{url_for('static',filename='/images/laptop.png')}}" alt="Product 3">
        <div class="card-body">
          <h3>Laptop</h3> 
          <p>Perfect gift for any occasion.</p>
          <p>25,999/-</p>
          <form action="/addtocart1" method="POST">
                <input type="hidden" name="username" value="{{username}}">
                <input type="hidden" name="productid" value="1009">
                <input type="hidden" name="productname" value="Laptop">
                <input type="hidden" name="productprice" value="25999">
                <button>Add to Cart</button><br><br>
            </form>
          <button onclick="pay('{{username}}', 1009,'Laptop', 25999)" class="btn buy">Buy Now</button>
        </div>
      </div>

      <div class="card">
        <img src="{{url_for('static',filename='/images/watch.png')}}" alt="Product 3">
        <div class="card-body">
          <h3>Smart Watch</h3> 
          <p>Perfect gift for any occasion.</p>
          <p>8,999/-</p>
          <form action="/addtocart1" method="POST">
                <input type="hidden" name="username" value="{{username}}">
                <input type="hidden" name="productid" value="1010">
                <input type="hidden" name="productname" value="Smart Watch">
                <input type="hidden" name="productprice" value="8999">
                <button>Add to Cart</button><br><br>
            </form>
          <button onclick="pay('{{username}}', 1010,'Smart Watch', 8999)" class="btn buy">Buy Now</button>
        </div>
      </div>

      <div class="card">
        <img src="{{url_for('static',filename='/images/phone1.png')}}" alt="Product 3">
        <div class="card-body">
          <h3>Mobile</h3> 
          <p>Perfect gift for any occasion.</p>
          <P>9,999</P>
          <form action="/addtocart1" method="POST">
                <input type="hidden" name="username" value="{{username}}">
                <input type="hidden" name="productid" value="1011">
                <input type="hidden" name="productname" value="Mobile">
                <input type="hidden" name="productprice" value="9999">
                <button>Add to Cart</button><br><br>
            </form>
          <button onclick="pay('{{username}}', 1011,'Mobile', 9999)" class="btn buy">Buy Now</button>
        </div>
      </div>
    </div>
 `
<script src="https://checkout.razorpay.com/v1/checkout.js"></script>
<script>
  function pay(username, productid, productname, productprice){
    var amount = productprice;
    var options = {
      key : "rzp_test_DUJyH40OvVOLit",
      amount : parseInt(amount) * 100,
      currency : "INR",
      name : "E Commerce",
      description : "Basic E commerce application",
      image : "{{url_for('static',filename='images/logo.png')}}",
      handler : function (response){
        alert("Payment Success !");
        var form = document.createElement("form");
        form.method = "POST";
        form.action = "/success";
        form.innerHTML = `
          <input type="hidden" name="username" value="{{username}}">
          <input type="hidden" name="productid" value="{{productid}}">
          <input type="hidden" name="productname" value="{{productname}}">
          <input type="hidden" name="productrice" value="{{productprice}}">
          <input type="hidden" name="quantity" value="1">
        `;
        document.body.appendChild(form);
        form.submit();
      },
      prefill : {
        contact : "+91 9390091863"
      },
      theme : {
        color : "grey"
      }
    };
      var rzp = new Razorpay(options);
      rzp.on('payment.failed',function(response){
        alert("Payemnt Failed !");
        var form = document.createElement("form");
        form.method = "POST";
        form.action = "/failure";
        form.innerHTML = `
          <input type="hidden" name="username" value="{{username}}">
        `;
        document.body.appendChild(form);
        form.submit();
      });
      rzp.open();
    }
</script>
  <footer>
    &copy; 2025 My E-Commerce Site. All rights reserved...Enjoy Shoppeee..!
  </footer>
</body>
</html>